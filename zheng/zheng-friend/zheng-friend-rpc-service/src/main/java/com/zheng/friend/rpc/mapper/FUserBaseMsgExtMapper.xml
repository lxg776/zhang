<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zheng.friend.rpc.mapper.FUserBaseMsgExtMapper">



    <resultMap id="BaseResultMap" type="com.zheng.friend.dao.vo.FuserDetailVo">
        <id column="uc.user_id" jdbcType="INTEGER" property="userId" />
        <result column="nickname" jdbcType="VARCHAR" property="nickname" />
        <result column="sex" jdbcType="TINYINT" property="sex" />
        <result column="avatar" jdbcType="VARCHAR" property="avatar" />
        <result column="last_login_time" jdbcType="TIMESTAMP" property="lastLoginTime" />
        <result column="last_login_ip" jdbcType="VARCHAR" property="lastLoginIp" />
        <result column="user_name" jdbcType="VARCHAR" property="userName" />

        <result column="nikename" jdbcType="VARCHAR" property="nikename" />
        <result column="birth_date" jdbcType="VARCHAR" property="birthDate" />
        <result column="height" jdbcType="float" property="height" />
    </resultMap>



    <sql id="Base_Column_List">
      uc.user_id, uc.user_name,uc.avatar, uc.nickname, uc.sex, uc.last_login_time, uc.last_login_ip
    </sql>

    <sql id="Base_Column_List2">
    base.nikename,base.birth_date,base.height,base.shape,base.year_income,base.month_income,base.education,base.disposition,base.profession,base.unit_property,
    base.work_unit,base.work_place,base.house_status,base.marital_status,base.children_status,base.soliloquy,base.declaration
    </sql>





    <!-- 排序上移 -->
    <select id="selectFUserDetailVoByUserId" resultMap="BaseResultMap" parameterType="java.lang.Integer">
        select     <include refid="Base_Column_List" /> ,<include refid="Base_Column_List2" /> from ucenter_user as uc
        left join f_user_base_msg as base on uc.user_id = base.user_id
        left join ucenter_identificaion as ic on uc.user_id = ic.user_id
        left join f_user_request as zo on uc.user_id = zo.user_id
        left join f_user_living_status as zh on uc.user_id = zh.user_id
        where uc.user_id=#{userId,jdbcType=INTEGER}
    </select>


    <!-- 缓存 -->
    <cache type="org.mybatis.caches.ehcache.LoggingEhcache"/>

</mapper>